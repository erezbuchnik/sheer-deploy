
{

"enet_ver": "0.1",
"enet_home": "/home/lab/workspace/OVSDB_ENET",
"enet_app": "run_AceNic.sh",






"openflow_controller_ip":	"127.0.0.1",
"openflow_controller_port":	"6653",
"enet_src_path":		"~/ACE_ENET_NIC_SDK",

"centos_netutils_img": {

	"entity": "img",
	"base_img": "centos",
	"yum": [
		{ "deltarpm":		"install deltarpm" },
		{ "update":		"update" },
		{ "net-tools":		"install net-tools" },
		{ "dev-tools":		"groupinstall \"Development tools\"" },
		{ "readline":		"install readline-devel" },
		{ "sqlite":		"install sqlite-devel" },
		{ "pciutils":		"install pciutils" },
		{ "which":		"install which" },
		{ "kernel-headers":	"install kernel-headers-`uname -r`" },
		{ "kernel-devel":	"install kernel-devel-`uname -r`" }
	],
	"install_sequence": [
		{ "fix-linux-link": "ln -sf /usr/src/kernels/`uname -r` /usr/src/linux-`uname -r`" }
	]
},

"centos_onos_img": {

	"entity": "docker_img",
	"base_img": "onosproject/onos",
	"yum": [
		{ "glib":		"install glib" },


		{ "update":		"update" },
		{ "net-tools":		"install net-tools" },
		{ "dev-tools":		"groupinstall \"Development tools\"" },
		{ "readline":		"install readline-devel" },
		{ "sqlite":		"install sqlite-devel" },
		{ "pciutils":		"install pciutils" },
		{ "which":		"install which" },
		{ "kernel-headers":	"install kernel-headers-`uname -r`" },
		{ "kernel-devel":	"install kernel-devel-`uname -r`" }
	],
	"install_sequence": [
		{ "fix-linux-link": "ln -sf /usr/src/kernels/`uname -r` /usr/src/linux-`uname -r`" }
	]
},


"ubuntu_netutils_img": {

	"entity": "docker_img",
	"base_img": "ubuntu",
	"apt": {
		"net-utils":		"install net-tools",
		"build-essential":	"install build-essential",
		"readline":		"install libreadline-dev",
		"sqlite":		"install sqlite3 libsqlite3-dev",
		"pciutils":		"install pciutils",
		"libc":			"install linux-libc-dev",
		"curses":		"install lib32ncurses5-dev",
		"wget":			"install wget",
		"git":			"install git"
	},
	"install_sequence": {
		"fix-linux-link": "ln -sf /usr/src/kernels/`uname -r` /usr/src/linux-`uname -r`"
	}
},


"openmul_img": {

	"entity": "docker_img",
	"base_img": "kulcloud/openmul:latest",
	"apt": {
		"telnet":	"install telnet",
		"expect":	"install expect",
		"tcl":		"install tcl"
	},
	"install_env": {
		"openmul_branch":	"master"
	},
	"install_sequence": {
		"force_sync":		"cd /usr/src/openmul; git fetch --all; git reset --hard origin/${openmul_branch}; ./build.sh",
		"rest_api_reference":	"wget http://www.openmul.org/uploads/1/3/2/6/13260234/mul_nbapi_v1.0.pdf"
	}
},


"openmul_container": {

	"entity": "docker_container",
	"base_img": "openmul_img",
	"docker_flags": "-d --privileged",
	"expose_tcp": {
		"6653":		"6653",
		"8181":		"8181",
		"10000":	"10000"
	},
	"boot_sequence": {
		"start_syslogd":	"service rsyslog start",
		"cd_mul_dir":		"cd /usr/src/openmul/",
		"init":			"./mul.sh init",
		"start_l2switch":	"./mul.sh start l2switch",
		"start_telnet":		"./application/cli/mulcli â€“V 10000",
		"start_rest_api":	"./application/nbapi/py-tornado/mulnbapi"
	}
},





"centos_enet_img": {

	"entity": "docker_img",
	"base_img": "centos_netutils_img",
	"yum": [
		{ "telnet":		"install telnet" },
		{ "expect":		"install expect" },
		{ "tcl":		"install tcl" }
	],
	"docker-volumes": [
		{ "/lib/modules":	"/lib/modules" },
		{ "/ACE_ENET_NIC_SDK":	".enet_src_path" }
	],
	"readonly_volumes": [
		{ "/enet_install.sh":	"./centos/enet/enet_install.sh" }
	],
	"install_env": [
		{ "enet_src_path":	".enet_src_path" }
	],
	"install_sequence": [
		{ "enet_install": "/enet_install.sh" }
	]
},

"enet_openflow_deploy": {

	"entity": "docker-deploy",

	"centos_enet_container": {
		"base-img": "centos_enet_img",
		"docker-flags": "-d --privileged --cap-add=ALL --net=host",
		"docker-volumes": [
			{ "/lib/modules":	"/lib/modules" },
			{ "/ACE_ENET_NIC_SDK":	".enet_src_path" }
		],
		"docker-readonly-volumes": [
			{ "/enet_boot.sh":	"./centos/enet/enet_boot.sh" }
		],
		"boot_env": [
			{ "controller_ip":	".openflow_controller_ip" },
			{ "controller_port":	".openflow_controller_port" }
		],
		"boot-sequence": [
			{ "enet_boot": "source /enet_boot.sh" }
		]
	},

	"centos_openmul_container": {
		"base-img": "kongseokhwan/open-mul:latest",
		"docker-flags": "-d --privileged",
		"docker-readonly-volumes": [
			{ "/openmul_boot.sh":	"./centos/openmul/openmul_boot.sh" }
		],
		"exposed-udp": [
			{ "6653":	"6653" },
			{ "8181":	"8181" },
			{ "10000":	"10000" }
		],
		"boot_env": [
			{ "controller_ip":	".openflow_controller_ip" },
			{ "controller_port":	".openflow_controller_port" }
		],
		"boot-sequence": [
			{ "openmul_boot": "source /openmul_boot.sh" }
		]
	}
},





"controllers": [

	{
		"desc": "Local OpenFlow controller",
	
		"controller_ip": "127.0.0.1",
		"controller_openflow_port": 6653,
		"controller_telnet_port": 10000,
		"controller_rest_port": 8181
	},
	{
		"desc": "Remote OpenFlow controller",
	
		"controller_ip": "172.16.10.111",
		"controller_openflow_port": 6653,
		"controller_telnet_port": 10000,
		"controller_rest_port": 8181
	}

],

"enet": {
	"pf_dev": "ens1"
},

"sriov": {
	"vfs_count": 5
},

"containers": [

	{
		"desc": "Container connected through SR-IOV",
	
		"link_method": "sriov",
		"img_id": "e62560f7e9c6",
		"container_ip": "192.168.10.12",
		"container_mac": "00:33:33:33:33:12",
		"container_vlan": "1012"
	},
	{
		"desc": "Container connected through SR-IOV",
	
		"link_method": "sriov",
		"img_id": "e62560f7e9c6",
		"container_ip": "192.168.10.13",
		"container_mac": "00:33:33:33:33:13",
		"container_vlan": "1013"
	},
	{
		"desc": "Container connected through SR-IOV",
	
		"link_method": "sriov",
		"img_id": "e62560f7e9c6",
		"container_ip": "192.168.10.14",
		"container_mac": "00:33:33:33:33:14",
		"container_vlan": "1014"
	}

]

}

